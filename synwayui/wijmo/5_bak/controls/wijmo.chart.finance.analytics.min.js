/*
    *
    * Wijmo Library 5.20152.84
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    * 
    * Licensed under the Wijmo Commercial License. 
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},wijmo;(function(n){(function(t){(function(i){(function(i){"use strict";var r=function(i){function r(t){i.call(this);this._levels=[0,23.6,38.2,50,61.8,100];this._uptrend=!0;this._labelPosition=1;t&&n.copy(this,t);this.rendering.addHandler(this._render)}return __extends(r,i),Object.defineProperty(r.prototype,"low",{get:function(){return this._low},set:function(t){t!=this._low&&(this._low=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"high",{get:function(){return this._high},set:function(t){t!=this._high&&(this._high=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"labelPosition",{get:function(){return this._labelPosition},set:function(i){i!=this._labelPosition&&(this._labelPosition=n.asEnum(i,t.LabelPosition,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"uptrend",{get:function(){return this._uptrend},set:function(t){t!=this._uptrend&&(this._uptrend=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"levels",{get:function(){return this._levels},set:function(t){t!=this._levels&&(this._levels=n.asArray(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minX",{get:function(){return this._minX},set:function(n){n!=this._minX&&(this._minX=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxX",{get:function(){return this._maxX},set:function(n){n!=this._maxX&&(this._maxX=n,this._invalidate())},enumerable:!0,configurable:!0}),r.prototype.getValues=function(){return null},r.prototype._getMinX=function(){return n.isNumber(this._minX)?this._minX:n.isDate(this._minX)?n.asDate(this._minX).valueOf():this._getAxisX().actualMin},r.prototype._getMaxX=function(){return n.isNumber(this._maxX)?this._maxX:n.isDate(this._maxX)?n.asDate(this._maxX).valueOf():this._getAxisX().actualMax},r.prototype._updateLevels=function(){var r=undefined,u=undefined,f,e,n,t,o;if((this._low===undefined||this._high===undefined)&&(f=i.prototype.getValues.call(this,0),e=i.prototype.getValues.call(this,1),f)){var s=f.length,h=this._getMinX(),c=this._getMaxX();for(n=0;n<s;n++)(t=f[n],o=e?e[n]:n,o<h||o>c)||isNaN(t)||((r===undefined||r>t)&&(r=t),(u===undefined||u<t)&&(u=t))}this._actualLow=this._low===undefined&&r!==undefined?r:this._low;this._actualHigh=this._high===undefined&&u!==undefined?u:this._high},r.prototype._render=function(i,r){var u=i,c,l,w,o,y,h;u._updateLevels();var e=u._getAxisX(),k=u._getAxisY(),f=r.engine,d=u._getSymbolStroke(u._chart.series.indexOf(u)),g=t._BasePlotter.cloneStyle(u.style,["fill"]),p=t._BasePlotter.cloneStyle(u.style,["stroke"]);for(f.stroke=d,f.strokeWidth=2,f.textFill=d,c=u._getMinX(),l=u._getMaxX(),c<e.actualMin&&(c=e.actualMin),l>e.actualMax&&(l=e.actualMax),w=u._levels?u._levels.length:0,o=0;o<w;o++){var b=u._levels[o],a=e.convert(c),v=e.convert(l),s=u.uptrend?k.convert(u._actualLow+.01*b*(u._actualHigh-u._actualLow)):k.convert(u._actualHigh-.01*b*(u._actualHigh-u._actualLow));if(t._DataInfo.isValid(a)&&t._DataInfo.isValid(v)&&t._DataInfo.isValid(s)&&(f.drawLine(a,s,v,s,null,g),u.labelPosition!=0)){y=b.toFixed(1)+"%";h=0;(u.uptrend&&o==0||!u.uptrend&&o==w-1)&&(h=2);switch(u.labelPosition){case 1:t.FlexChartCore._renderText(f,y,new n.Point(a,s),0,h,null,null,p);break;case 5:t.FlexChartCore._renderText(f,y,new n.Point(.5*(a+v),s),1,h,null,null,p);break;case 3:t.FlexChartCore._renderText(f,y,new n.Point(v,s),2,h,null,null,p)}}}},r}(t.SeriesBase);i.Fibonacci=r})(i.analytics||(i.analytics={}));var r=i.analytics})(t.finance||(t.finance={}));var i=t.finance})(n.chart||(n.chart={}));var t=n.chart})(wijmo||(wijmo={}))